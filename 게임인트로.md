# 게임 인트로 화면 구조 가이드

이 문서는 게임세상의 모든 HTML 게임에 적용할 표준 인트로 화면 구조를 정의합니다.

## 1. 기본 HTML 구조

### body 스타일
```css
body {
    font-family: 'Malgun Gothic', sans-serif;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
    overflow: hidden;  /* 중요: body는 스크롤 금지 */
    display: flex;
    flex-direction: column;
}
```

**핵심 포인트:**
- `overflow: hidden` - body는 절대 스크롤되지 않음
- `height: calc(var(--vh, 1vh) * 100)` - 모바일 주소창 대응

---

## 2. 메뉴 화면 (menu-screen)

### HTML 구조
```html
<div id="menuScreen" class="menu-screen">
    <div class="menu-header">
        <!-- Header 내용 (고정) -->
    </div>
    <div class="menu-body">
        <div class="menu-content">
            <!-- 스크롤 가능한 콘텐츠 -->
        </div>
    </div>
</div>
```

### CSS 스타일

#### 메뉴 전체 화면
```css
.menu-screen, .gameover-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    flex-direction: column;  /* 중요: 세로 배치 */
    z-index: 1000;
}
```

#### 메뉴 헤더 (상단 고정)
```css
.menu-header {
    display: flex;
    align-items: center;
    background: rgba(0, 0, 0, 0.3);
    color: white;
    padding: 0 12px;
    height: 56px;  /* 고정 높이 */
    gap: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: sticky;  /* 중요: 스크롤 시 상단 고정 */
    top: 0;
    z-index: 100;
}
```

**Header 요소:**
1. **뒤로가기 버튼** (좌측)
   ```html
   <a href="index.html" class="menu-back-btn">
       <span class="material-icons">arrow_back</span>
   </a>
   ```

2. **게임 제목** (중앙, flex: 1로 확장)
   ```html
   <div class="menu-game-title">게임 이름</div>
   ```

3. **포인트 표시** (우측)
   ```html
   <div class="menu-points">
       <span>🏆</span>
       <span id="menuPoints">0</span>
   </div>
   ```

#### 메뉴 바디 (스크롤 가능)
```css
.menu-body {
    flex: 1;  /* 중요: 남은 공간 모두 차지 */
    display: flex;
    justify-content: center;
    align-items: flex-start;  /* 중요: 상단 정렬 (center는 sticky header와 겹침) */
    overflow-y: auto;  /* 중요: 세로 스크롤 허용 */
    padding: 20px 0;  /* 중요: 상하 여백으로 header에 가려지지 않게 */
}
```

**핵심 포인트:**
- `flex: 1` - header를 제외한 남은 공간 차지
- `align-items: flex-start` - 상단 정렬 (center는 sticky header와 겹침)
- `overflow-y: auto` - 콘텐츠가 넘치면 스크롤
- `padding: 20px 0` - 상하 여백으로 콘텐츠가 header에 가려지지 않음

#### 메뉴 콘텐츠 (내부 박스)
```css
.menu-content, .gameover-content {
    background: rgba(0, 0, 0, 0.8);
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    color: white;
    max-width: 90%;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}
```

**핵심 포인트:**
- `max-width: 90%` - 좌우 여백 확보
- ⚠️ `overflow-y: auto` **제거** - menu-body에서만 스크롤 처리 (스크롤바가 화면 우측 끝에 표시됨)
- ⚠️ `max-height: 90vh` **제거** - 높이 제한 없이 menu-body가 알아서 처리

---

## 3. 게임 플레이 화면 (app-header)

게임 플레이 중에는 sticky header를 사용합니다.

### HTML 구조
```html
<div class="app-header">
    <a href="index.html" class="back-btn">
        <span class="material-icons">arrow_back</span>
    </a>
    <div class="header-score">Score: 0</div>
    <div class="header-lives">❤️ 3</div>
    <!-- 기타 버튼들 -->
</div>

<canvas id="gameCanvas"></canvas>
<!-- 게임 콘텐츠 -->
```

### CSS 스타일
```css
.app-header {
    display: flex;
    align-items: center;
    background: rgba(0, 0, 0, 0.85);
    color: white;
    padding: 8px 12px;
    gap: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    z-index: 100;
    position: sticky;  /* 중요: 스크롤 시 상단 고정 */
    top: 0;
}
```

**핵심 포인트:**
- `position: sticky` + `top: 0` - 스크롤해도 상단 고정
- `z-index: 100` - 다른 요소보다 위에 표시

---

## 4. Game Over 화면

Menu Screen과 동일한 구조를 사용합니다.

```html
<div id="gameoverScreen" class="gameover-screen hidden">
    <div class="menu-header">
        <!-- Menu Header와 동일 -->
    </div>
    <div class="menu-body">
        <div class="gameover-content">
            <!-- 게임 오버 콘텐츠 -->
        </div>
    </div>
</div>
```

---

## 5. 공통 버튼 스타일

### 뒤로가기 버튼
```css
.menu-back-btn, .back-btn {
    background: transparent;
    border: none;
    color: white;
    cursor: pointer;
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    border-radius: 50%;
    transition: background 0.2s ease;
    width: 40px;
    height: 40px;
}

.menu-back-btn .material-icons,
.back-btn .material-icons {
    font-size: 24px;
}

.menu-back-btn:hover,
.back-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

.menu-back-btn:active,
.back-btn:active {
    background: rgba(255, 255, 255, 0.2);
}
```

### 게임 시작 버튼
```css
.btn {
    background: linear-gradient(45deg, #4a90e2, #9b59b6);
    color: white;
    border: none;
    padding: 15px 40px;
    font-size: 1.5em;
    border-radius: 50px;
    cursor: pointer;
    margin: 10px;
    box-shadow: 0 4px 15px rgba(74, 144, 226, 0.4);
    transition: transform 0.2s;
}

.btn:hover {
    transform: scale(1.05);
}

.btn:active {
    transform: scale(0.95);
}
```

---

## 6. 포인트 표시 스타일

### Header 포인트 표시
```css
.menu-points {
    display: flex;
    align-items: center;
    gap: 4px;
    background: rgba(255, 255, 255, 0.15);
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 13px;
}
```

---

## 7. 스크롤 동작 흐름

```
body (overflow: hidden)
  └─ menu-screen (fixed, flex column)
      ├─ menu-header (고정, height: 56px)
      └─ menu-body (flex: 1, overflow-y: auto) ← 여기서 스크롤
          └─ menu-content (max-height: 90vh, overflow-y: auto) ← 또는 여기서 스크롤
```

**핵심 개념:**
1. **body는 절대 스크롤 안 됨** (`overflow: hidden`)
2. **header는 고정** (고정 높이)
3. **body는 남은 공간 차지** (`flex: 1`)
4. **body만 스크롤** (`overflow-y: auto`)

---

## 8. 모바일 대응

### viewport height 고정 (필수)
```javascript
function setVH() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

window.addEventListener('resize', setVH);
window.addEventListener('load', setVH);
setVH();
```

### CSS 변수 선언
```css
:root {
    --vh: 1vh;
}
```

---

## 9. 적용 체크리스트

새 게임 HTML 파일을 만들거나 기존 파일을 수정할 때 확인:

- [ ] `body { overflow: hidden }`
- [ ] `menu-screen { display: flex; flex-direction: column }`
- [ ] `menu-header { height: 56px }` (고정)
- [ ] `menu-body { flex: 1; overflow-y: auto }`
- [ ] `menu-content { max-height: 90vh; overflow-y: auto }`
- [ ] Material Icons 폰트 로드
- [ ] `--vh` 자바스크립트 설정
- [ ] 뒤로가기 버튼 → `index.html`
- [ ] 포인트 표시 연동

---

## 10. 예시 코드 (최소 템플릿)

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>게임 이름 - 게임세상</title>
    <style>
        :root {
            --vh: 1vh;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            height: 100vh;
            height: calc(var(--vh, 1vh) * 100);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .menu-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: calc(var(--vh, 1vh) * 100);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            z-index: 1000;
        }

        .menu-header {
            display: flex;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            padding: 0 12px;
            height: 56px;
            gap: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .menu-back-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .menu-back-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .menu-game-title {
            flex: 1;
            font-size: 18px;
            font-weight: 500;
        }

        .menu-points {
            display: flex;
            align-items: center;
            gap: 4px;
            background: rgba(255, 255, 255, 0.15);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 13px;
        }

        .menu-body {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .menu-content {
            background: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            color: white;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div id="menuScreen" class="menu-screen">
        <div class="menu-header">
            <a href="index.html" class="menu-back-btn">
                <span class="material-icons">arrow_back</span>
            </a>
            <div class="menu-game-title">게임 이름</div>
            <div class="menu-points">
                <span>🏆</span>
                <span id="menuPoints">0</span>
            </div>
        </div>
        <div class="menu-body">
            <div class="menu-content">
                <h1>게임 제목</h1>
                <p>게임 설명</p>
                <button class="btn" onclick="startGame()">게임 시작</button>
            </div>
        </div>
    </div>

    <script>
        function setVH() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        window.addEventListener('resize', setVH);
        window.addEventListener('load', setVH);
        setVH();

        function startGame() {
            document.getElementById('menuScreen').classList.add('hidden');
            // 게임 시작 로직
        }
    </script>
</body>
</html>
```

---

## 11. 주요 차이점 정리

### ❌ 잘못된 방법
```css
body {
    overflow-y: auto;  /* body가 스크롤되면 header가 함께 스크롤됨 */
}

.menu-screen {
    height: auto;  /* 높이가 자동이면 내용에 따라 늘어남 */
}
```

### ✅ 올바른 방법
```css
body {
    overflow: hidden;  /* body는 절대 스크롤 안 됨 */
}

.menu-screen {
    height: 100vh;  /* 전체 화면 고정 */
    display: flex;
    flex-direction: column;
}

.menu-body {
    flex: 1;  /* 남은 공간 차지 */
    overflow-y: auto;  /* 여기서만 스크롤 */
}
```

---

## 12. 트러블슈팅

### 문제: Header가 스크롤되어 사라짐
**원인:** body에 `overflow-y: auto` 설정됨
**해결:** body는 `overflow: hidden`, menu-body에만 `overflow-y: auto`

### 문제: 모바일에서 콘텐츠가 잘림
**원인:** `--vh` 설정 안 됨
**해결:** JavaScript로 `--vh` 설정 + CSS에서 `calc(var(--vh, 1vh) * 100)` 사용

### 문제: 스크롤이 부드럽지 않음
**원인:** `-webkit-overflow-scrolling` 미설정
**해결:**
```css
.menu-body, .menu-content {
    -webkit-overflow-scrolling: touch;
}
```

---

이 가이드를 기준으로 모든 게임 HTML 파일을 표준화하세요!
